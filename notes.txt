    1  exit
    2  ls
    3  oc login -u admin -p tZyneOk3Y792
    4  cat << EOF | oc apply -f -
apiVersion: v1
kind: Namespace
metadata:
  labels:
    kubernetes.io/metadata.name: openshift-nmstate
    name: openshift-nmstate
  name: openshift-nmstate
spec:
  finalizers:
  - kubernetes
EOF

    5  cat << EOF | oc apply -f -
apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  annotations:
    olm.providedAPIs: NMState.v1.nmstate.io
  name: openshift-nmstate
  namespace: openshift-nmstate
spec:
  targetNamespaces:
  - openshift-nmstate
EOF

    6  cat << EOF| oc apply -f -
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  labels:
    operators.coreos.com/kubernetes-nmstate-operator.openshift-nmstate: ""
  name: kubernetes-nmstate-operator
  namespace: openshift-nmstate
spec:
  channel: stable
  installPlanApproval: Automatic
  name: kubernetes-nmstate-operator
  source: redhat-operators
  sourceNamespace: openshift-marketplace
EOF

    7  cat << EOF | oc apply -f -
apiVersion: nmstate.io/v1
kind: NMState
metadata:
  name: nmstate
EOF

    8  cat << EOF | oc apply -f -
apiVersion: nmstate.io/v1
kind: NMState
metadata:
  name: nmstate
EOF

    9  oc get clusterserviceversion -n openshift-nmstate  -o custom-columns=Name:.metadata.name,Phase:.status.phase
   10  cat << EOF | oc apply -f -
apiVersion: v1
kind: Namespace
metadata:
  name: metallb-system
EOF

   11  cat << EOF | oc apply -f -
apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: metallb-operator
  namespace: metallb-system
EOF

   12  oc get operatorgroup -n metallb-system
   13  vi metallb-sub.yaml
   14  oc create -f metallb-sub.yaml
   15  oc label ns metallb-system "openshift.io/cluster-monitoring=true"
   16  oc get installplan -n metallb-system
   17  oc get clusterserviceversion -n metallb-system   -o custom-columns=Name:.metadata.name,Phase:.status.phase
   18  oc get clusterserviceversion -n metallb-system   -o custom-columns=Name:.metadata.name,Phase:.status.phase -w
   19  oc get clusterserviceversion -n metallb-system   -o custom-columns=Name:.metadata.name,Phase:.status.phase
   20  cat << EOF | oc apply -f -
apiVersion: metallb.io/v1beta1
kind: MetalLB
metadata:
  name: metallb
  namespace: metallb-system
EOF

   21  oc get deployment -n metallb-system controller
   22  oc get daemonset -n metallb-system speaker
   23  oc get deployment -n metallb-system controller
   24  oc get daemonset -n metallb-system speaker
   25  cat << EOF | oc apply -f -
apiVersion: v1
kind: Namespace
metadata:
    name: cert-manager-operator
    labels:
      pod-security.kubernetes.io/enforce: privileged
      security.openshift.io/scc.podSecurityLabelSync: "false"
EOF

   26  cat << EOF | oc apply -f -
apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: cert-manager-operator
  namespace: cert-manager-operator
spec:
  targetNamespaces:
  - cert-manager-operator
  upgradeStrategy: Default
EOF

   27  oc get operatorgroup -n cert-manager-operator
   28  cat << EOF | oc apply -f -
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  labels:
    operators.coreos.com/openshift-cert-manager-operator.cert-manager-operator: ""
  name: openshift-cert-manager-operator
  namespace: cert-manager-operator
spec:
  channel: stable-v1.12
  installPlanApproval: Automatic
  name: openshift-cert-manager-operator
  source: redhat-operators
  sourceNamespace: openshift-marketplace
  startingCSV: cert-manager-operator.v1.12.1
EOF

   29  oc get installplan -n cert-manager-operator
   30  oc get clusterserviceversion -n cert-manager-operator  -o custom-columns=Name:.metadata.name,Phase:.status.phase
   31  oc get pods -n cert-manager
   32  oc get clusterserviceversion -n cert-manager-operator  -o custom-columns=Name:.metadata.name,Phase:.status.phase
   33  oc get pods -n cert-manager
   34  oc new-project quay-enterprise
   35  history > historyintall.txt



[root@ocp4-bastion ~]# oc new-project quay-enterprise
Now using project "quay-enterprise" on server "https://api.ocp.example.com:6443".

You can add applications to this project with the 'new-app' command. For example, try:

    oc new-app rails-postgresql-example

to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:

    kubectl create deployment hello-node --image=registry.k8s.io/e2e-test-images/agnhost:2.43 -- /agnhost serve-hostname



